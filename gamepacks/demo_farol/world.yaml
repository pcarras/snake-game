
meta:
  title: "Demo — O Tesouro do Farol"
  start_location: "A01"
  start_money: 5
  start_items: []
  start_energy: 5
  capacity: 6

locations:
  - {id: "A01", x: 1, y: 1, name: "Praia do Farol"}
  - {id: "A02", x: 2, y: 1, name: "Base do Farol"}
  - {id: "A03", x: 3, y: 1, name: "Cabana do Pescador"}
  - {id: "B01", x: 1, y: 2, name: "Rocha Norte"}
  - {id: "B02", x: 2, y: 2, name: "Escadaria do Farol"}
  - {id: "B03", x: 3, y: 2, name: "Cais Pequeno"}

objects:
  - {id: "X01", name: "Corda", location: "A01"}
  - {id: "X02", name: "Lanterna", location: "A03"}
  - {id: "X03", name: "Chave de Ferro", location: "B03"}
  - {id: "X04", name: "Baú Enferrujado", location: "A02"}

npcs:
  - {id: "Guarda", name: "Guarda do Farol", route: ["A02","B02","A02","B02"]}

verbs:
  mover: ["ir","mover","deslocar","norte","sul","este","oeste","n","s","e","o"]
  examinar: ["examinar","olhar","ver","observar","descrever"]
  pegar: ["pegar","apanhar"]
  abrir: ["abrir","destrancar"]
  usar: ["usar","utilizar","aplicar"]
  falar: ["falar","conversar"]
  inventario: ["inventário","inventario","mochila"]
  mapa: ["mapa"]

situations:
  - id: D01
    location: A01
    trigger: {verb: examinar, args: {target: "praia"}}
    text: "Areia húmida e pegadas recentes. Uma corda esquecida junto à rocha."
    effects: {give_items: ["X01"]}

  - id: D02
    location: A03
    trigger: {verb: examinar}
    text: "A cabana tem cheiro a sal. Sobre a mesa, uma lanterna funcional."
    effects: {give_items: ["X02"]}

  - id: D03
    location: B03
    trigger: {verb: examinar}
    text: "No cais, sob uma tábua solta, encontras uma chave de ferro."
    effects: {give_items: ["X03"]}

  - id: D04
    location: A02
    pre: {npc: "Guarda"}
    trigger: {verb: falar}
    text: "O guarda diz: 'Sem luz e sem corda, é perigoso subir a escadaria à noite.'"
    effects: {set_flags: ["aviso_guarda"]}

  - id: D05
    location: B02
    trigger: {verb: usar, args: {target: "corda"}}
    pre: {has_item: "X01"}
    text: "Prendes a corda ao corrimão. A subida torna-se segura."
    effects: {set_flags: ["escada_segura"]}

  - id: D06
    location: B02
    trigger: {verb: usar, args: {target: "lanterna"}}
    pre: {has_item: "X02"}
    text: "A luz revela marcas antigas na parede: 'Chave e luz abrem o mar'."
    effects: {set_flags: ["pista_luz"]}

  - id: D07
    location: A02
    trigger: {verb: abrir, args: {target: "baú"}}
    pre: {has_item: "X03", flag: "pista_luz", flag2: "escada_segura"}
    text: "A chave roda com esforço, a tampa range e... ouro! Objectivo concluído."
    effects: {set_flags: ["final_demo"]}
